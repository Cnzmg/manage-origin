/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/public/javascripts/crud.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/public/javascripts/crud.js":
/*!****************************************!*\
  !*** ./src/public/javascripts/crud.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("var _ref = [parent.all.jq, parent.all.json, document.getElementById('app').getAttribute('data-uri'), document.getElementById('app').getAttribute('data-asset'), document.getElementById('app').getAttribute('data-goback'), parent.document.getElementById('tagHref').getAttribute('src')],\n    $ = _ref[0],\n    token = _ref[1],\n    uri = _ref[2],\n    assetUri = _ref[3],\n    callBackHtml = _ref[4],\n    dataHref = _ref[5];\nvar _data = {};\nnew Vue({\n  el: '#app',\n  data: function data() {\n    return {\n      loading: false,\n      boxshow: false,\n      tagshow: false,\n      select: '',\n      formData: {\n        formulaMakeList: [{\n          delayTime: '',\n          waterVolume: '',\n          gradientWeight: '',\n          mixSpeed: '',\n          recipeOutSpeed: '',\n          recipeOutOrder: '',\n          flavorName: ''\n        }, {\n          delayTime: '',\n          waterVolume: '',\n          gradientWeight: '',\n          mixSpeed: '',\n          recipeOutSpeed: '',\n          recipeOutOrder: '',\n          flavorName: ''\n        }, {\n          delayTime: '',\n          waterVolume: '',\n          gradientWeight: '',\n          mixSpeed: '',\n          recipeOutSpeed: '',\n          recipeOutOrder: '',\n          flavorName: ''\n        }, {\n          delayTime: '',\n          waterVolume: '',\n          gradientWeight: '',\n          mixSpeed: '',\n          recipeOutSpeed: '',\n          recipeOutOrder: '',\n          flavorName: ''\n        }, {\n          delayTime: '',\n          waterVolume: '',\n          gradientWeight: '',\n          mixSpeed: '',\n          recipeOutSpeed: '',\n          recipeOutOrder: '',\n          flavorName: ''\n        }, {\n          delayTime: '',\n          waterVolume: '',\n          gradientWeight: '',\n          mixSpeed: '',\n          recipeOutSpeed: '',\n          recipeOutOrder: '',\n          flavorName: ''\n        }, {\n          delayTime: '',\n          waterVolume: '',\n          gradientWeight: '',\n          mixSpeed: '',\n          recipeOutSpeed: '',\n          recipeOutOrder: '',\n          flavorName: ''\n        }],\n        formulaName: ''\n      },\n      formDataSmall: {\n        formulaMakeList: [{\n          coffeeFlow: '',\n          coffeeTemporature: '',\n          coffeeWeight: '',\n          playMilkTime: '',\n          pumpPressure: '',\n          americanHotWaterWeight: '',\n          milkFlow: '',\n          formulaType: '',\n          formulaName: ''\n        }],\n        formulaName: ''\n      },\n      recipeOutOrder: [{\n        value: '0',\n        label: '不出料'\n      }, {\n        value: '1',\n        label: '第一次出料'\n      }, {\n        value: '2',\n        label: '第二次出料'\n      }, {\n        value: '3',\n        label: '第三次出料'\n      }, {\n        value: '4',\n        label: '第四次出料'\n      }, {\n        value: '5',\n        label: '第五次出料'\n      }, {\n        value: '6',\n        label: '第六次出料'\n      }, {\n        value: '7',\n        label: '第七次出料'\n      }],\n      flavorCanChange: '',\n      ruleForm: {\n        phone: '',\n        adminName: '',\n        pwd: '',\n        realName: '',\n        weChatId: '',\n        parentId: '',\n        isService: 0\n      },\n      rules: {\n        adminName: [{\n          required: true,\n          message: '请输入账号',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 15,\n          message: '请输入3-15位',\n          trigger: 'blur'\n        }],\n        phone: [{\n          required: true,\n          message: '请输入手机号',\n          trigger: 'blur'\n        }],\n        pwd: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          max: 15,\n          message: '请输入6-15位',\n          trigger: 'blur'\n        }],\n        realName: [{\n          required: true,\n          message: '请输入姓名',\n          trigger: 'blur'\n        }]\n      },\n      dialogImageUrl: '',\n      dialogVisible: false,\n      dialogVisibleData: false,\n      num: 1,\n      fileData: _data,\n      samllfileUpdata: false,\n      formulaIds: [],\n      productFlavorList: [],\n      radioclod: false,\n      imageList: {\n        machine: [],\n        product: [],\n        detail: []\n      },\n      disAdminName: false\n    };\n  },\n  created: function created() {\n    var it = this;\n\n    if (dataHref.split('*').length > 1) {\n      this.Ienit(decodeURI(dataHref.split('*')[1]));\n      this.tagshow = true;\n    }\n\n    ;\n\n    switch (document.getElementById('app').getAttribute('data-search')) {\n      case 'manage_product':\n        //回显所有的配方选项\n        _data['type'] = 2;\n        ym.init.XML({\n          method: 'POST',\n          uri: token._j.URLS.Development_Server_ + uri,\n          async: false,\n          xmldata: _data,\n          done: function done(res) {\n            res.formulaInfoList.forEach(function (e) {\n              it.formulaIds.push({\n                value: e.formulaId,\n                label: e.formulaName,\n                machineType: e.machineType,\n                formulaTemperature: e.formulaTemperature\n              });\n            });\n          }\n        });\n        break;\n\n      default:\n        break;\n    }\n  },\n  methods: {\n    IError: function IError(err) {\n      var _this = this;\n\n      setTimeout(function () {\n        _this.loading = false;\n      }, 1000);\n      this.$message.error('错了哦，' + err);\n    },\n    ISuccessfull: function ISuccessfull(e) {\n      var _this2 = this;\n\n      setTimeout(function () {\n        _this2.loading = false;\n      }, 1000);\n      this.$message({\n        message: 'ok 了哦,' + e,\n        type: 'success'\n      });\n    },\n    Ichange: function Ichange(e) {\n      var it = this;\n\n      switch (e.options) {\n        case 'machineType':\n          e.value != \"big\" && e.value != '' ? it.boxshow = true : it.boxshow = false;\n          break;\n\n        default:\n          break;\n      }\n    },\n    Ipush: function Ipush(e) {\n      var it = this;\n      it.loading = true;\n\n      if (dataHref.split('*').length > 1) {\n        _data['id'] = JSON.parse(decodeURI(dataHref.split('*')[1])).id;\n      }\n\n      if (e.machineType == 2) {\n        //小机器\n        _data['officeFormulaMakeList[0].coffeeFlow'] = e.formulaMakeList[0].coffeeFlow || '';\n        _data['officeFormulaMakeList[0].coffeeTemporature'] = e.formulaMakeList[0].coffeeTemporature || '';\n        _data['officeFormulaMakeList[0].coffeeWeight'] = e.formulaMakeList[0].coffeeWeight || '';\n        _data['officeFormulaMakeList[0].playMilkTime'] = e.formulaMakeList[0].playMilkTime || '';\n        _data['officeFormulaMakeList[0].pumpPressure'] = e.formulaMakeList[0].pumpPressure || '';\n        _data['officeFormulaMakeList[0].americanHotWaterWeight'] = e.formulaMakeList[0].americanHotWaterWeight || '';\n        _data['officeFormulaMakeList[0].formulaType'] = e.formulaMakeList[0].formulaType || '';\n        _data['officeFormulaMakeList[0].milkFlow'] = e.formulaMakeList[0].milkFlow || '';\n      } else {\n        for (var i = 0; i < e.formulaMakeList.length; i++) {\n          _data['formulaMakeList[' + i + '].canisterId'] = e.formulaMakeList[i].canisterId || '';\n          _data['formulaMakeList[' + i + '].delayTime'] = e.formulaMakeList[i].delayTime || '';\n          _data['formulaMakeList[' + i + '].flavorCanChange'] = e.formulaMakeList[i].flavorCanChange || '';\n          _data['formulaMakeList[' + i + '].flavorName'] = e.formulaMakeList[i].flavorName || '';\n          _data['formulaMakeList[' + i + '].gradientWeight'] = e.formulaMakeList[i].gradientWeight || '';\n          _data['formulaMakeList[' + i + '].mixSpeed'] = e.formulaMakeList[i].mixSpeed || '';\n          _data['formulaMakeList[' + i + '].recipeOutOrder'] = e.formulaMakeList[i].recipeOutOrder || '';\n          _data['formulaMakeList[' + i + '].recipeOutSpeed'] = e.formulaMakeList[i].recipeOutSpeed || '';\n          _data['formulaMakeList[' + i + '].waterVolume'] = e.formulaMakeList[i].waterVolume || '';\n        }\n      }\n\n      ym.init.XML({\n        method: 'POST',\n        uri: token._j.URLS.Development_Server_ + uri,\n        async: false,\n        xmldata: _data,\n        done: function done(res) {\n          ym.init.RegCode(token._j.successfull).test(res.statusCode.status) ? function () {\n            it.ISuccessfull(res.statusCode.msg);\n            setTimeout(function () {\n              parent.document.getElementById('tagHref').setAttribute('src', callBackHtml);\n            }, 500);\n          }() : function () {\n            it.IError(res.statusCode.msg);\n            throw \"收集到错误：\\n\\n\" + res.statusCode.status;\n          }();\n        }\n      });\n    },\n    Ienit: function Ienit(e) {\n      var it = this;\n      var _uri = '';\n\n      switch (uri) {\n        case 'add_or_update_admin':\n          _uri = 'admin_detail';\n          _data['id'] = JSON.parse(e).id;\n          break;\n\n        case 'manage_product':\n          _data['type'] = 1;\n          _data['productId'] = JSON.parse(e).productId;\n          break;\n\n        default:\n          break;\n      }\n\n      it.loading = true;\n      ym.init.XML({\n        method: 'GET',\n        uri: token._j.URLS.Development_Server_ + _uri,\n        async: false,\n        xmldata: _data,\n        done: function done(res) {\n          ym.init.RegCode(token._j.successfull).test(res.state) ? function () {\n            switch (uri) {\n              case 'add_or_update_admin':\n                it.disAdminName = true;\n                it.ruleForm.adminName = res.data.adminName;\n                it.ruleForm.phone = res.data.phone;\n                it.ruleForm.realName = res.data.realName;\n                it.ruleForm.weChatId = res.data.weChatId == -1 ? \"\" : res.data.weChatId;\n                it.ruleForm.parentId = res.data.parentId == -1 ? \"\" : res.data.parentId;\n                it.ruleForm.isService = res.data.isService;\n                break;\n\n              case 'manage_product':\n                try {\n                  it.formulaIds.forEach(function (ex) {\n                    if (ex.value == res.productInfo.formulaId) {\n                      it.ruleForm.formulaId = ex.value; //配方\n                    }\n                  });\n                  it.ruleForm.productName = res.productInfo.productName; //产品名称\n\n                  it.ruleForm.productPrice = res.productInfo.productPrice; //产品价格\n\n                  it.imageList.machine.push({\n                    name: 'machinePic',\n                    url: res.productInfo.productMachinePicurl\n                  }); //机器产品图片\n\n                  it.imageList.product.push({\n                    name: 'product',\n                    url: res.productInfo.productPicurl\n                  }); //手机产品图片\n\n                  it.imageList.detail.push({\n                    name: 'detail',\n                    url: res.productInfo.productMachineDetailPicurl\n                  }); //小机器详情图片\n\n                  it.ruleForm.productMachinePicurl = res.productInfo.productMachinePicurl; //机器产品图片\n\n                  it.ruleForm.productPicurl = res.productInfo.productPicurl; //手机产品图片\n\n                  it.ruleForm.productMachineDetailPicurl = res.productInfo.productMachineDetailPicurl; //小机器详情图片\n\n                  it.ruleForm.productRank = res.productInfo.productRank; //排序\n\n                  it.ruleForm.operateType = res.productInfo.operateType; //产品属性\n\n                  it.ruleForm.productStatus = res.productInfo.productStatus; //是否上架\n\n                  it.ruleForm.productTemperature = res.productInfo.productTemperature; //冷热状态\n\n                  it.ruleForm.machineType = res.productInfo.machineType; //设备类型\n\n                  if (res.productInfo.productTemperature == 1) {\n                    //冷热锁定\n                    it.radioclod = true;\n                  }\n\n                  if (res.productInfo.machineType == 1) {\n                    //大机器才有\n                    res.productFlavorList.forEach(function (e) {\n                      //口味信息\n                      it.productFlavorList.push({\n                        value: e.bunkerNumber,\n                        label: e.flavorName,\n                        hide: e.hide\n                      });\n                    });\n                  } else {\n                    it.samllfileUpdata = true; //详情图片开启\n                  }\n\n                  it.ruleForm.productComment = res.productInfo.productComment; //冷热状态\n                } catch (error) {\n                  it.IError(error);\n                  throw error;\n                }\n\n                break;\n\n              default:\n                break;\n            }\n\n            it.ISuccessfull(res.msg);\n          }() : function () {\n            it.IError(res.msg);\n            throw \"收集到错误：\\n\\n\" + res.status;\n          }();\n        }\n      });\n    },\n    handleRemove: function handleRemove(file, fileList) {\n      console.log(file, fileList);\n    },\n    handlePictureCardPreview: function handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    fileExceed: function fileExceed() {\n      this.IError('只允许一张图片');\n    },\n    fileChange: function fileChange() {\n      this.fileData['type'] = 3; //动态配置\n    },\n    filePicChange: function filePicChange() {\n      this.fileData['type'] = 2; //动态配置\n    },\n    fileMachineSuccess: function fileMachineSuccess(e) {\n      this.ruleForm.productMachinePicurl = e.realPath;\n    },\n    filePicSuccess: function filePicSuccess(e) {\n      this.ruleForm.productPicurl = e.realPath;\n    },\n    fileDateilSuccess: function fileDateilSuccess(e) {\n      this.ruleForm.productMachineDetailPicurl = e.realPath;\n    },\n    submitForm: function submitForm(formName) {\n      //提交管理员信息\n      if (dataHref.split('*').length > 1) {\n        _data['id'] = JSON.parse(decodeURI(dataHref.split('*')[1])).id;\n      }\n\n      var it = this;\n      _data['adminName'] = formName.adminName || '';\n      _data['phone'] = formName.phone || '';\n      _data['pwd'] = formName.pwd || '';\n      _data['realName'] = formName.realName || '';\n      _data['weChatId'] = formName.weChatId || '';\n      _data['parentId'] = formName.parentId || '';\n      _data['isService'] = formName.isService || 0;\n      ym.init.XML({\n        method: 'POST',\n        uri: token._j.URLS.Development_Server_ + uri,\n        async: false,\n        xmldata: _data,\n        done: function done(res) {\n          try {\n            ym.init.RegCode(token._j.successfull).test(res.state) ? function () {\n              it.ISuccessfull(res.msg);\n              setTimeout(function () {\n                parent.document.getElementById('tagHref').setAttribute('src', callBackHtml);\n              }, 500);\n            }() : function () {\n              throw \"收集到错误：\\n\\n\" + res.msg;\n            }();\n          } catch (error) {\n            it.IError(error);\n          }\n        }\n      }); // this.ISuccessfull('提交成功');\n    },\n    resetForm: function resetForm(formName) {\n      //重置表单\n      this.$refs[formName].resetFields();\n    },\n    tagChange: function tagChange(e) {\n      var _this3 = this;\n\n      //处理select 的机器类型\n      try {\n        var it = this;\n        e.ID != \"\" ? function () {\n          e._arr.forEach(function (element) {\n            if (e.ID == element.value) {\n              _this3.ruleForm.machineType = element.machineType;\n              _this3.productFlavorList = [];\n              element.machineType != 1 ? _this3.samllfileUpdata = true : function () {\n                _data['formulaId'] = e.ID;\n                ym.init.XML({\n                  method: 'POST',\n                  uri: token._j.URLS.Development_Server_ + 'find_product_flavor',\n                  async: false,\n                  xmldata: _data,\n                  done: function done(res) {\n                    res.productFlavorList.forEach(function (e) {\n                      it.productFlavorList.push({\n                        value: e.bunkerNumber,\n                        label: e.flavorName,\n                        hide: e.hide\n                      });\n                    });\n                  }\n                });\n                _this3.samllfileUpdata = false; //this.dialogVisibleData = true;   //第三张图片显示模态背景问题i\n              }(); //判断是否显示小设备的详情图片\n\n              element.formulaTemperature != 1 ? _this3.radioclod = true : _this3.radioclod = false; //判断是否可以冷热切换\n            }\n          });\n        }() : null;\n      } catch (error) {\n        this.IError(error);\n      }\n    }\n  }\n});\n\n//# sourceURL=webpack:///./src/public/javascripts/crud.js?");

/***/ })

/******/ });